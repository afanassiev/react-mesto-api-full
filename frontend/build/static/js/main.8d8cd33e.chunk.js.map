{"version":3,"sources":["images/success.svg","images/failure.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","utils/api.js","utils/constants.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePlacePopup.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","signOut","loggedInUserEmail","className","path","to","exact","onClick","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","type","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","key","ImagePopup","onClose","PopupWithForm","title","children","isOpen","onSubmit","buttonText","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","defaultValue","onChange","target","value","required","minLength","maxLength","api","apiConfig","this","url","baseUrl","headers","authorizedUserId","res","ok","json","Promise","reject","status","fetch","method","then","_resultHandler","data","body","JSON","stringify","item","cardId","catch","_errorHandler","authorization","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","onAdderSubmit","setLink","RemovePlacePopup","Register","registerUser","email","setEmail","password","setPassword","Login","loginUser","InfoTooltip","success","Success","Failure","ProtectedRoute","Component","component","props","loggedIn","auth","authConfig","token","App","history","useHistory","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isRemovePopupOpen","setIsRemovePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","removingCard","setRemovingCard","isLoggedIn","setIsLoggedIn","isTooltipOpen","setIsTooltipOpen","setSuccess","setLoggedInUserEmail","tokenCheck","errorHandler","err","console","log","registerConfirm","state","closeAllPopups","jwt","localStorage","getItem","getContent","push","getUserInfo","getInitialCards","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","register","authorize","setItem","setUserInfo","setUserAvatar","addNewCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.8d8cd33e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/failure.4072126c.svg\";","import React from \"react\";\nimport {Switch, Route, Link} from 'react-router-dom'\n\nexport default function Header({signOut, loggedInUserEmail}) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__container\">\n      <h1 className=\"header__logo\">Логотип</h1>\n\n      <Switch>\n        <Route path=\"/sign-up\">\n          <Link\n            to=\"/sign-in\"\n            className=\"header__auth\"\n          >Войти</Link>\n        </Route>\n        <Route path=\"/sign-in\">\n          <Link\n            to=\"sign-up\"\n            className=\"header__auth\"\n          >Регистрация</Link>\n        </Route>\n        <Route exact path=\"/\">\n          <ul className=\"header__user-panel\">\n            <li><p className=\"header__email\">{loggedInUserEmail}</p></li>\n            <li><button className=\"header__logout\" onClick={signOut}>Выйти</button></li>\n          </ul>\n        </Route>\n      </Switch>\n      </div>\n      <hr className=\"header__line\"/>\n    </header>\n  )\n}\n","import React from \"react\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `item__delete-button ${isOwn ? '' : 'item__delete-button_hidden'}`\n  );\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`item__checkbox ${isLiked ? 'item__checkbox_active' : ''}`);\n\n\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"item\">\n      <img\n        className=\"item__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <button\n        className={`${cardDeleteButtonClassName}`}\n        onClick={handleDeleteClick}\n      />\n      <div className=\"item__fragment item__fragment_textfield\">\n        <h2 className=\"item__title\">{card.name}</h2>\n        <div className=\"item__like\">\n          <button\n            className={`${cardLikeButtonClassName}`}\n            type=\"button\"\n            onClick={handleLikeClick}\n          />\n          <span className=\"item__like-counter\">{card.likes.length}</span>\n        </div>\n      </div>\n    </div>\n  )\n}","import React, {useState, useEffect} from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function Main({cards, onCardLike, onCardDelete, onEditAvatar, onEditProfile, onAddPlace, onCardClick}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"contain\">\n      <section className=\"profile\">\n        <div className=\"profile__data\">\n          <button className=\"profile__avatar-button\" onClick={onEditAvatar}>\n            <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"аватар пользователя\"/>\n          </button>\n          <ul className=\"profile__info\">\n            <li className=\"profile__name\">{currentUser.name}</li>\n            <li className=\"profile__descr\">{currentUser.about}</li>\n          </ul>\n          <button className=\"profile__editbutton\" type=\"button\" onClick={onEditProfile}/>\n        </div>\n        <button className=\"profile__addbutton\" type=\"button\" onClick={onAddPlace}/>\n      </section>\n      <section className=\"elements\">\n        {\n          cards.map((card) =>\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n          )\n        }\n      </section>\n    </main>\n  )\n}","import React from \"react\";\n\nexport default function ImagePopup({card, onClose}) {\n  return (\n    <div className={`popup popup__image ${card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__image-container\">\n        <button className=\"popup__close-button popup__close-button_image\" type=\"button\" onClick={onClose}/>\n        <img className=\"popup__image-pic\" src={card.link}  alt={card.name}/>\n        <h3 className=\"popup__image-name\">{card.name}</h3>\n      </div>\n    </div>\n  )\n}","import React from \"react\";\n\nexport default function PopupWithForm({title, name, children, isOpen, onClose, onSubmit, buttonText}) {\n  return (\n    <div className={`popup popup__${name} ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <form\n          name={name}\n          className=\"popup__form popup__form_profile\"\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <h2 className=\"popup__header\">{title}</h2>\n          {children}\n          <button className=\"popup__savebutton\">{buttonText}</button>\n        </form>\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}/>\n      </div>\n    </div>\n  )\n}","import React, {useState, useEffect, useContext} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleName(evt) {\n    setName(evt.target.value)\n  }\n\n  function handleDescription(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_name\"\n            type=\"text\"\n            id=\"profileName-input\"\n            defaultValue={name}\n            onChange={handleName}\n            name=\"profileNameInput\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n          />\n          <span\n            className=\"popup__error\"\n            id=\"profileName-input-error\"\n          />\n        </label>\n        <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_descr\"\n            type=\"text\"\n            id=\"descr-input\"\n            defaultValue={description}\n            onChange={handleDescription}\n            name=\"profileDescrInput\"\n            required minLength=\"2\"\n            maxLength=\"200\"\n          />\n          <span\n            className=\"popup__error\"\n            id=\"descr-input-error\"\n          />\n        </label>\n      </>\n    </PopupWithForm>\n\n  )\n}\n\nexport default EditProfilePopup;","import {apiConfig} from \"./constants\";\n\nclass Api {\n  constructor(apiConfig) {\n    this.url = apiConfig.baseUrl;\n    this.headers = apiConfig.headers;\n    this.authorizedUserId = apiConfig.authorizedUserId;\n  }\n\n  _resultHandler(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}users/me`,\n      {\n        method: 'GET',\n        headers: this.headers\n      })\n      .then(this._resultHandler)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this.url}users/me`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n      })\n    })\n      .then(this._resultHandler)\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}cards`,\n      {\n        method: 'GET',\n        headers: this.headers\n      })\n      .then(this._resultHandler)\n  }\n\n  addNewCard(item) {\n    return fetch(`${this.url}cards`,\n      {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: item.name,\n          link: item.link\n        })\n      })\n      .then(this._resultHandler)\n  }\n\n  changeLikeCardStatus (cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this.headers\n          })\n            .then(this._resultHandler)\n            .catch(this._errorHandler)\n        } else {\n        return fetch(`${this.url}cards/likes/${cardId}`, {\n          method: 'DELETE',\n          headers: this.headers\n          })\n          .then(this._resultHandler)\n    }\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(this._resultHandler)\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(`${this.url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar.avatar\n      })\n    })\n        .then(this._resultHandler)\n  }\n}\n\nconst api = new Api(apiConfig);\n\nexport default api;","export const apiConfig = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13/',\n  authorizedUserId: '36b7746313f131617c443126',\n  headers: {\n    authorization: '9bf88dfb-94a4-43bc-a7b7-687a025522ae',\n    'Content-Type': 'application/json'\n  }\n}\n\nexport const apiAuthConfig = {\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }\n}\n","import React, {useEffect, useRef} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n  const avatarRef = useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    })\n  }\n\n  useEffect(() => {\n    avatarRef.current.value = ''\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_avatar\"\n            type=\"url\"\n            id=\"url-avatar\"\n            name=\"urlAvatar\"\n            placeholder=\"Ссылка на аватар\"\n            ref={avatarRef}\n            required\n          />\n          <span className=\"popup__error\" id=\"url-avatar-error\"/>\n        </label>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React, {useState, useEffect} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({isOpen, onClose, onAdderSubmit}) {\n\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function clearInputs() {\n    setName('');\n    setLink('');\n  }\n\n  useEffect(() => {\n    if (!isOpen) {\n      clearInputs();\n    }\n  })\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAdderSubmit({\n      name,\n      link\n    });\n  }\n\n  function handleName(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLink(evt) {\n    setLink(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      buttonText=\"Добавить!\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_placename\"\n            type=\"text\"\n            id=\"placename-input\"\n            name=\"placeNameInput\"\n            value={name}\n            onChange={handleName}\n            placeholder=\"Название\"\n            required\n            minLength=\"1\"\n            maxLength=\"30\"\n          />\n          <span\n            className=\"popup__error\"\n            id=\"placename-input-error\"\n          />\n        </label>\n        <label className=\"popup__label\">\n          <input\n            className=\"popup__input popup__input_link\"\n            type=\"url\"\n            id=\"url-input\"\n            name=\"urlInput\"\n            value={link}\n            onChange={handleLink}\n            placeholder=\"Ссылка на картинку\"\n            required\n          />\n          <span\n            className=\"popup__error\"\n            id=\"url-input-error\"\n          />\n        </label>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction RemovePlacePopup({isOpen, onClose, onCardDelete}) {\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onCardDelete();\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"delete-confirmation\"\n      buttonText=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n    </PopupWithForm>\n  )\n}\n\nexport default RemovePlacePopup;","import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\n\nfunction Register({registerUser}) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const onChangeEmail = (evt) => setEmail(evt.target.value);\n  const onChangePassword = (evt) => setPassword(evt.target.value);\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n    if (email || password) {\n      registerUser(email, password)\n    }\n  }\n\n  return (\n    <form\n      className=\"auth\"\n      onSubmit={handleSubmit}\n    >\n      <h2 className=\"auth__header\">Регистрация</h2>\n      <label className=\"auth__label\">\n        <input\n          className=\"auth__input auth__input_email\"\n          type=\"email\"\n          id=\"email-input\"\n          placeholder=\"Email\"\n          name=\"authEmailInput\"\n          required\n          value={email || ''}\n          onChange={onChangeEmail}\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span\n          className=\"auth__error\"\n          id=\"email-input-error\"\n        />\n      </label>\n      <label className=\"auth__label\">\n        <input\n          className=\"auth__input auth__input_password\"\n          type=\"password\"\n          id=\"password-input\"\n          placeholder=\"Пароль\"\n          name=\"authPasswordInput\"\n          value={password || ''}\n          onChange={onChangePassword}\n          required minLength=\"2\"\n          maxLength=\"20\"\n        />\n        <span\n          className=\"auth__error\"\n          id=\"password-input-error\"\n        />\n      </label>\n      <button\n        className=\"auth__submit\"\n        type=\"submit\"\n      >Зарегистрироваться</button>\n      <Link\n        to=\"/sign-in\"\n        className=\"auth__link\"\n      >Уже зарегистрированы? Войти</Link>\n    </form>\n  )\n}\n\nexport default Register;\n","import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\n\nfunction Login({loginUser}) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const onChangeEmail = (evt) => setEmail(evt.target.value);\n  const onChangePassword = (evt) => setPassword(evt.target.value);\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n    if (email || password) {\n      loginUser(email, password)\n    } else {\n\n    }\n  }\n\n  return (\n    <form\n      className=\"auth\"\n      onSubmit={handleSubmit}\n    >\n      <h2 className=\"auth__header\">Вход</h2>\n      <label className=\"auth__label\">\n        <input\n          className=\"auth__input auth__input_email\"\n          type=\"email\"\n          id=\"email-input\"\n          placeholder=\"Email\"\n          name=\"authEmailInput\"\n          onChange={onChangeEmail}\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span\n          className=\"auth__error\"\n          id=\"email-input-error\"\n        />\n      </label>\n      <label className=\"auth__label\">\n        <input\n          className=\"auth__input auth__input_password\"\n          type=\"password\"\n          id=\"password-input\"\n          placeholder=\"Пароль\"\n          name=\"authPasswordInput\"\n          onChange={onChangePassword}\n          required minLength=\"2\"\n          maxLength=\"20\"\n        />\n        <span\n          className=\"auth__error\"\n          id=\"password-input-error\"\n        />\n      </label>\n      <button\n        className=\"auth__submit\"\n        type=\"submit\"\n      >Войти</button>\n      <Link\n        to=\"/sign-up\"\n        className=\"auth__link\"\n      >Ещё не зарегистрированы? Регистрация</Link>\n    </form>\n  )\n}\n\nexport default Login;\n","import React from \"react\";\nimport Success from \"../images/success.svg\";\nimport Failure from \"../images/failure.svg\";\n\nfunction InfoTooltip({success, isOpen, onClose}) {\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <div className=\"info-tooltip\">\n          <img src={`${success ? Success : Failure}`} alt=\"Результат авторизации\"/>\n          <h2 className=\"info-tooltip__message\">{`${success ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз\"}`}</h2>\n        </div>\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}/>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;\n","import React from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props}/> : <Redirect to=\"./sign-in\"/>\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","import {apiAuthConfig} from \"./constants\";\n\nclass Auth {\n  constructor(authConfig) {\n    this.url = authConfig.baseUrl\n    this.headers = authConfig.headers\n  }\n\n  _resultHandler(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res.status)\n  }\n\n  register(email, password) {\n    return fetch(`${this.url}/signup`,\n      {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({password, email})\n      })\n      .then(this._resultHandler)\n  }\n\n  authorize(email, password) {\n    return fetch(`${this.url}/signin`,\n      {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({password, email})\n      })\n      .then(this._resultHandler)\n  }\n\n  getContent(token) {\n    return fetch(`${this.url}/users/me`,\n      {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        }\n      })\n      .then(this._resultHandler)\n  }\n}\n\nconst auth = new Auth(apiAuthConfig);\n\nexport default auth;\n","import React, { useEffect, useState } from 'react';\nimport {Route, Redirect, Switch, useHistory} from 'react-router-dom';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport RemovePlacePopup from \"./RemovePlacePopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport auth from \"../utils/auth\";\n\nfunction App() {\n\n  const history = useHistory();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isRemovePopupOpen, setIsRemovePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState('');\n  const [currentUser, setCurrentUser] = useState('');\n  const [cards, setCards] = useState([]);\n  const [removingCard, setRemovingCard] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isTooltipOpen, setIsTooltipOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [loggedInUserEmail, setLoggedInUserEmail] = useState('');\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  const errorHandler = err => {\n    console.log(err);\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        setCurrentUser(res)\n      })\n      .catch(errorHandler)\n  }, [])\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch(errorHandler)\n  }, [])\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function registerConfirm(state) {\n    setIsTooltipOpen(true);\n    setSuccess(state);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n    })\n      .catch(errorHandler)\n  }\n\n  function handleCardDelete() {\n    api.deleteCard(removingCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== removingCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(errorHandler)\n  }\n\n  function handleRemovePopup(card) {\n    setIsRemovePopupOpen(true);\n    setRemovingCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsRemovePopupOpen(false);\n    setSelectedCard('');\n    setIsTooltipOpen(false);\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(errorHandler)\n  }\n\n  function handleUpdateAvatar(data) {\n    api.setUserAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(errorHandler)\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addNewCard(data)\n      .then((newCard) => {\n        setCards([...cards, newCard])\n        closeAllPopups();\n      })\n      .catch(errorHandler)\n  }\n\n  function registerUser(email, password) {\n    return auth.register(email, password)\n      .then(() => {\n        registerConfirm(true);\n        history.push('/sign-in');\n      })\n      .catch(err => {\n        registerConfirm(false);\n        if (err === 400) {\n          console.log('Некорректно заполнено одно из полей');\n        }\n        errorHandler(err);\n      })\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt).then(res => {\n        if (res) {\n          setLoggedInUserEmail(res.data.email);\n          setIsLoggedIn(true);\n          history.push('/');\n        }})\n        .catch(err => {\n          if (err === 400) {\n            console.log('Токен не передан или передан не в том формате');\n          }\n          if (err === 401) {\n            console.log('Переданный токен некорректен')\n          }\n          errorHandler(err);\n        })\n    }\n  }\n\n  function loginUser(email, password) {\n    return auth.authorize(email, password)\n      .then(res => {\n        if (res && res.token) {\n          localStorage.setItem('jwt', res.token);\n          tokenCheck();\n        }\n      })\n      .catch(err => {\n        if (err === 400) {\n          console.log('Не передано одно из полей');\n        }\n        if (err === 401) {\n          console.log('Пользователь с такой комбинацией email и пароля не найден');\n        }\n        errorHandler(err);\n      })\n  }\n\n  function signOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem('jwt');\n    history.push('/sign-in');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"App\">\n      <div className=\"page__content\">\n        <Header\n          signOut={signOut}\n          loggedInUserEmail={loggedInUserEmail}\n        />\n\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            component={Main}\n            loggedIn={isLoggedIn}\n            cards={cards}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleRemovePopup}\n          />\n          <Route path={'/sign-up'}>\n            <Register registerUser={registerUser} />\n          </Route>\n          <Route path={'/sign-in'} >\n            <Login loginUser={loginUser} />\n          </Route>\n        </Switch>\n\n\n        <Footer/>\n        <InfoTooltip\n          isOpen={isTooltipOpen}\n          success={success}\n          onClose={closeAllPopups}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAdderSubmit={handleAddPlaceSubmit}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <RemovePlacePopup\n          isOpen={isRemovePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n        />\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}